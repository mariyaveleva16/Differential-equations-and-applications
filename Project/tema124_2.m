function tema124_2
clc
clf
% ?????????????? ????????? ? – ????????? ?2 ?? ???????????? ???????
A=[0,-3;1,-2];
% ?????? ????? ??? ?????????? ???????
b=[-6;0];
% ?????????? ?????
eqp = A\(-b)
% ????????? ????????? ? ????????? ???????
[T,D]=eig(A)
x=eqp(1)-4:1:eqp(1)+4;
y=eqp(2)-4:1:eqp(2)+4;
% ??????? ???????????? ????? ??? ??????
plot(-4,-2,'r*')
axis([eqp(1)-5,eqp(1)+5,eqp(2)-5,eqp(2)+5])
hold on
% ?????, ????? ????? ????? ?????? ?????
if imag (D(1,1))==0
if T(1,1)~=0
plot(x,eqp(2)+T(2,1)*(x-eqp(1))/T(1,1),'k')
else plot(0*x+eqp(1),x,'k')
end
if T(1,2)~=0
plot(x,eqp(2)+T(2,2)*(x-eqp(1))/T(1,2),'k')
else plot(0*x+eqp(1),x,'k')
end
end
% ??????? ?? ??????? ??????
function z=ff(t,y)
z=A*y+b;
end
% ????? ???????
[X,Y]=meshgrid(x,y);
tmax=50;
for i=1:length(x)
for j=1:length(y)
[T1,Y1]=ode45(@ff,[0,tmax],[X(i,j),Y(i,j)]);
[T2,Y2]=ode45(@ff,[0,-tmax],[X(i,j),Y(i,j)]);
plot(Y1(:,1),Y1(:,2),'b',Y2(:,1),Y2(:,2),'b')
end
end
% ???????????? ???????
deltaX=A(1,1)*X+A(1,2)*Y+b(1);
deltaY=A(2,1)*X+A(2,2)*Y+b(2);
d=sqrt(deltaX.^2+deltaY.^2);
quiver(X,Y,deltaX./d,deltaY./d,0.5,'m')
end

